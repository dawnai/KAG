# KAG改进实验

### 实验样本：

```
[
    {
	"title": "珍惜生命│牛頭角彩盈邨女子燒炭 友人上門聞煤氣味揭發",
    "text": "牛頭角彩盈邨盈富樓一單位，今（8日）中午12時58分，一名女子在單位內燒炭自殺，其友人訪上址在門外嗅到煤氣味，心感不妙，報警求助，消防到場出動一喉一煙帽隊，女事主昏迷被送往聯合醫院搶救。警方將事件列企圖自殺跟進，調查其尋死原因。自殺求助熱線：「情緒通」精神健康支援熱線：18111 香港撒瑪利亞防止自殺會： 2389 2222生命熱線： 2382 0000明愛向晴軒： 18288社會福利署： 2343 2255撒瑪利亞會熱線(多種語言)： 2896 0000東華三院芷若園： 18281醫管局精神康專線： 2466 7350賽馬會青少年情緒健康網上支援平台「Open 噏」：http://www.openup.hk"
    },
    {
    "title":"特朗普稱DeepSeek不會構成國安威脅 料美國最終「受益」",
    "text":"中國AI企業DeepSeek（深度求索）近日發佈的開源模型引起全球關注。綜合外媒報道，美國總統特朗普昨日（7日）對此表示，DeepSeek不會對國家安全構成威脅，而且美國最終可以「受益」。特朗普提到，DeepSeek是一項正在發展的技術，如果發展正確的話，美國將會從中受益，因為現在所涉及的人工智能成本將比人們最初想像的低很多，「這是一件好事」。他又強調，這是非常積極的發展，而非壞事。另一方面，韓國、意大利、澳洲、印度及日本等國先後傳出禁止或限制使用 DeepSeek。中國外交部發言人郭嘉昆周四對此表示，中國政府高度重視並依法保護數據隱私和安全，從來沒有也不會要求企業或個人以違法的形式採集或存儲數據。他又指，中方一貫反對泛化國家安全概念、將經貿科技問題政治化的做法，中方將堅定維護中國企業的合法權益。"
    },
    {
    "title":"深圳南山今日（8日）發生巴士撞上巴士站，事後釀成2死1傷",
    "text":"深圳南山今日（8日）發生巴士撞上巴士站，事後釀成2死1傷。深圳公安通報事件。通報指出，2月8日10時許，在南山區沙河西路茶光村公交站，一公交車入站停靠時因司機突發疾病與站台發生碰撞，造成3名候車乘客受傷，其中2人經搶救無效死亡。經對公交車司機進行呼氣式酒精測試，結果為0mg/100ml。目前，事故正在進一步調查處理中。"
    },
    {
    "title":"公屋擲物狂亂丟有料安全套 兼空降濕漉漉尿墊 苦主願贈電動XX解決｜Juicy叮",
    "text":"青衣公屋出現擲物狂，懷疑亂丟「針筒、用完安全套、洗頭水樽、用過嘅女士用品......寵物尿墊」，部分垃圾擱於下層住戶的晾衣架上，讓鄰居不勝其煩。居長康邨的苦主早前在facebook群組「青衣街坊吹水會」上載相片發帖訴苦，指「即係咁，（長康邨）康Ｘ樓Ｘ座20以上嘅缺德住戶，如果屋企冇垃圾桶嘅話，我可以送一個俾你，如果你行動不便嘅話，我都可以送張電動輪椅（中國製）俾你，等你攞出去掉垃圾桶都方便啲。#已經唔係第一次 #講得出嘅垃圾都有執過 #好想房署快啲裝閉路電視」。相中見到在開揚景觀映襯下，晾衣架上擱有一大塊泛著黃色污漬且仍然濕漉漉的尿墊，窗邊還有一疊疑似空降的報紙。"
    },
    {
    "title":"台「太陽花女王」劉喬安波士頓落網 匿美逾5年被台灣通緝",
    "text":"美國總統特朗普上任後，針對打擊非法移民。美國移民及海關執法局（ICE）1月23日在一次針對性執法行動中，逮捕了一名在台灣因貪污、非法侵佔、詐欺和販毒而被通緝的台灣通緝犯。而官方公布的照片顯示，她就是「太陽花女王」劉喬安。劉喬安2019年5月合法以臨時訪客身份進入美國，原本必須在2019年8月離境，但她並未遵守規定。台灣刑事局國際刑警科今年初掌握劉女的行蹤後，立即將情報通知美方，美國移民暨海關執法局、波士頓警方等單位，1月23日在波士頓一家旅館將劉女逮補，刑事局今（8）日證實，已與美方合作正在協調遣返事宜，新北地檢署說，待警方將她解送歸案後，將由當日值班內勤檢察官處理。"
    }
]
```

### 实验一：目前抽取情况

```
{"num_nodes": 29, "num_edges": 41, "num_subgraphs": 1}}}
{"num_nodes": 27, "num_edges": 36, "num_subgraphs": 1}}}
{"num_nodes": 19, "num_edges": 25, "num_subgraphs": 1}}}
{"num_nodes": 48, "num_edges": 60, "num_subgraphs": 1}}}
{"num_nodes": 50, "num_edges": 63, "num_subgraphs": 1}}}
```

每一段文本命名实体抽取情况：

```shell
[{'name': '公屋擲物狂亂丟有料安全套 兼空降濕漉漉尿墊', 'type': 'Event', 'category': 'Event', 'description': '青衣公屋發生擲物事件'}, {'name': '青衣公屋', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '事件發生地點'}, {'name': '長康邨', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '具體發生地點'}, {'name': '康Ｘ樓Ｘ座20以上', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '涉嫌擲物的住戶位置'}, {'name': 'facebook群組「青衣街坊吹水會」', 'type': 'Organization', 'category': 'Organization', 'description': '苦主發帖的平台'}, {'name': '房署', 'type': 'Organization', 'category': 'Organization', 'description': '負責管理公屋的機構'}, {'name': '閉路電視', 'type': 'ArtificialObject', 'category': 'ArtificialObject', 'description': '苦主希望安裝的監控設備
'}]

[{'name': '牛頭角彩盈邨盈富樓一單位，今（8日）中午12時58分，一名女子在單位內燒炭自殺', 'type': 'Event', 'category': 'Event', 'description': '女子燒炭自殺事件'}, {'name': '今（8日）', 'type': 'Date', 'category': 'Date', 'description': '女子燒炭自殺事件發生時間'}, {'name': '牛頭角彩盈邨盈富樓', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '女子燒炭自殺事件發生地點'}, {'name': '女事主', 'type': 'Person', 'category': 'Person', 'description': '女子燒炭自殺事件中的受害者'}, {'name': '聯合醫院', 'type': 'Building', 'category': 'Building', 'description': '女子被送往的醫院'}, {'name': '警方', 'type': 'Organization', 'category': 'Organization', 'description': '負責調查女子燒炭自殺事件的組織'}, {'name': '消防', 'type': 'Organization', 'category': 'Organization', 'description': '出動救援的組織'}, {'name': '中午12時58分', 'type': 'Date', 'category': 'Date', 'description': '女子燒炭自殺事件發生的具體時間'}]

[{'name': '深圳南山今日（8日）發生巴士撞上巴士站，事後釀成2死1傷', 'type': 'Event', 'category': 'Event', 'description': '巴士撞上巴士站导致2死1伤'}, {'name': '2月8日10時許', 'type': 'Date', 'category': 'Date', 'description': '事故发生时间'}, {'name': '南山區沙河西路茶光村公交站', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '事故发生地点'}, {'name': '一公交車入站停靠時因司機突發疾病與站台發生碰撞', 'type': 'Event', 'category': 'Event', 'description': '具体事故原因和过程'}, {'name': '3名候車乘客受傷，其中2人經搶救無效死亡', 'type': 'Event', 'category': 'Event', 'description': '事故结果'}, {'name': '深圳公安', 'type': 'Organization', 'category': 'Organization', 'description': '负责通报和处理事故的组织'}, {'name': '公交車司機', 'type': 'Person', 'category': 'Person', 'description': '事故中的司机'}, {'name': '呼氣式酒精測試', 'type': 'Medicine', 'category': 'Medicine', 'description': '对司机进行的酒精测试'}, {'name': '0mg/100ml', 'type': 'NaturalScience', 'category': 'NaturalScience', 'description': '酒精测试结果'}]

[{'name': '特朗普稱DeepSeek不會構成國安威脅 料美國最終「受益」', 'type': 'Event', 'category': 'Event', 'description': '特朗普对DeepSeek的评论'}, {'name': '中國AI企業DeepSeek（深度求索）近日發佈的開源模型引起全球關注', 'type': 'Event', 'category': 'Event', 'description': 'DeepSeek发布开源模型'}, {'name': '美國總統特朗普昨日（7日）對此表示，DeepSeek不會對國家安全構成威脅，而且美國最終可以「受益」', 'type': 'Event', 'category': 'Event', 'description': '特朗普对DeepSeek的评论'}, {'name': '特朗普提到，DeepSeek是一項正在發展的技術，如果發展正確的話，美國將會從中受益', 'type': 'Event', 'category': 'Event', 'description': '特朗普对DeepSeek技术发展的看法'}, {'name': '另一方面，韓國、意大利、澳洲、印度及日本等國先後傳出禁止或限制使用 DeepSeek', 'type': 'Event', 'category': 'Event', 'description': '多国对DeepSeek的禁用或限制'}, {'name': '中國外交部發言人郭嘉昆周四對此表示，中國政府高度重視並依法保護數據隱私和安全，從來沒有也不會要求企業或個人以違法的形式採集或存儲數據', 'type': 'Event', 'category': 'Event', 'description': '中国外交部发言人的声明'}, {'name': '他又指，中方一貫反對泛化國家安全概念、將經貿科技問題政治化的做法，中方將堅定維護中國企業的合法權益', 'type': 'Event', 'category': 'Event', 'description': '中国外交部发言人对国际局势的看法'}, {'name': '7日', 'type': 'Date', 'category': 'Date', 'description': '特朗普发表评论的日期'}, {'name': '特朗普', 'type': 'Person', 'category': 'Person', 'description': '美国总统'}, {'name': 'DeepSeek', 'type': 'Organization', 'category': 'Organization', 'description': '中国AI企业'}, {'name': '韓國', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '禁止或限制使用DeepSeek的国家之一'}, {'name': '意大利', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '禁止或限制使用DeepSeek的国家之一'}, {'name': '澳洲', 'type': 'GeographicLocation', 'category': 'GeographicLocation', '描述': '禁止或限制使用DeepSeek的国家之一'}, {'name': '印度', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '禁止或限制使用DeepSeek的国家之一'}, {'name': '日本', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '禁止或限制使用DeepSeek的国家之一'}, {'name': '中國', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': 'DeepSeek的发源地'}, {'name': '郭嘉昆', 'type': 'Person', 'category': 'Person', 'description': '中国外交部发言人'}]

[{'name': '台「太陽花女王」劉喬安波士頓落網 匿美逾5年被台灣通緝', 'type': 'Event', 'category': 'Event', 'description': '台湾通缉犯在美国被捕'}, {'name': ' 美國總統特朗普上任後，針對打擊非法移民', 'type': 'Event', 'category': 'Event', 'description': '美国总统特朗普打击非法移民'}, {'name': '美國移民及海關執法局（ICE）1月23日在一 次針對性執法行動中，逮捕了一名在台灣因貪污、非法侵佔、詐欺和販毒而被通緝的台灣通緝犯', 'type': 'Event', 'category': 'Event', 'description': '美国移民及海关执法局逮捕台湾通缉 犯'}, {'name': '劉喬安2019年5月合法以臨時訪客身份進入美國，原本必須在2019年8月離境，但她並未遵守規定', 'type': 'Event', 'category': 'Event', 'description': '刘乔安逾期滞留美国'}, {'name': '台灣刑事局國際刑警科今年初掌握劉女的行蹤後，立即將情報通知美方', 'type': 'Event', 'category': 'Event', 'description': '台湾刑事局国际刑警科提供情报给美国'}, {'name': '美國移民暨海關執法局、波士頓警方等單位，1月23日在波士頓一家旅館將劉女逮補', 'type': 'Event', 'category': 'Event', 'description': '美国移民暨海关执法局和波士顿警方逮 捕刘乔安'}, {'name': '刑事局今（8）日證實，已與美方合作正在協調遣返事宜', 'type': 'Event', 'category': 'Event', 'description': '台湾刑事局确认与美国合作协调遣返刘乔安'}, {'name': '待警方將她解送歸案後，將由當日值班內勤檢察官處理', 'type': 'Event', 'category': 'Event', 'description': '刘乔安归案后将由值班检察官处理'}, {'name': '1月23日', 'type': 'Date', 'category': 'Date', 'description': '刘乔安被捕的时间'}, {'name': '2019年5月', 'type': 'Date', 'category': 'Date', 'description': '刘乔安进入美国的时间'}, {'name': '2019年8月', 'type': 'Date', 'category': 'Date', 'description': '刘乔安应离境的时间'}, {'name': '今年初', 'type': 'Date', 'category': 'Date', 'description': '台湾刑事局国际刑警科掌握刘乔安行踪的时间'}, {'name': '8日', 'type': 'Date', 'category': 'Date', 'description': '台湾刑事局确认与美国合作协调遣返刘乔安的时间'}, {'name': '劉喬安', 'type': 'Person', 'category': 'Person', 'description': '被捕的台湾通缉犯'}, {'name': '美國總統特朗普', 'type': 'Person', 'category': 'Person', 'description': '美国总统'}, {'name': '美國移民及海關執法局（ICE）', 'type': 'Organization', 'category': 'Organization', 'description': '美国移民及海关执法局'}, {'name': '台灣刑事局國際刑警科', 'type': 'Organization', 'category': 'Organization', 'description': '台湾刑事局国际刑警科'}, {'name': '美國移民暨海關執法局', 'type': 'Organization', 'category': 'Organization', 'description': '美国移民暨海关执法局'}, {'name': '波士頓警方', 'type': 'Organization', 'category': 'Organization', 'description': '波士顿警方'}, {'name': '新北地檢署', 'type': 'Organization', 'category': 'Organization', 'description': '新北地方检察署'}, {'name': '波士頓', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '刘乔安被捕的地点'}, {'name': '台灣', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '刘乔安被通缉的地方'}, {'name': '美國', 'type': 'GeographicLocation', 'category': 'GeographicLocation', 'description': '刘乔安逃往的国家'}]
```

全局可视化：



![graph (28)](./assets/graph (28).svg)

出现了令人奇怪的一幕：在命名实体抽取过程中，并没有出现实体重复的现象，但是在neo4j进行总览的时候，又莫名出现了一些重复实体？

### 实验二：切换成自定义Schema

刚刚采用了自定义的prompt，但是没有采用自定义Schema，而是kag默认schema，默认Schema比较全，偏向百科类。

自定义Schema：偏事件

```yaml
namespace DawnQwenRemove

Activity(活动会议):EntityType
    properties:
        desc(描述):Text
        nameEn(名称):Text

Location(地点):EntityType
    properties:
        desc(描述):Text
        nameEn(名字):Text

NewsArticale(新闻文章):EntityType
    properties:
        summary(摘要):Text
        author(作者):Text
        title(标题):Text
        publishTime(发布时间):Text
        source(来源):Text
        keywords(关键词):Text

Person(人物): EntityType
     properties:
        info(信息): Text
            index: TextAndVector
        semanticType(语义类型): Text
            index: Text
        job(工作): Text
            constraint: MultiValue
        organization(所属机构):Organization

Date(日期): EntityType
     properties:
        info(信息): Text
            index: TextAndVector
        semanticType(语义类型): Text
            index: Text
        

Organization(组织机构): EntityType
     properties:
        info(信息): Text
            index: TextAndVector
        semanticType(语义类型): Text
            index: Text

JiuLongEvent(事件): EventType
     properties:
        subject(主体): Person
        participants(参与者): Person
            desc: the participants of event, such as subject and objects
            constraint: MultiValue
        time(时间): Date            
        location(地点): Location
        abstract(摘要): Text
            index: TextAndVector        
        semanticType(事件语义类型): Text
            desc: a more specific and clearly defined type, such as Professor or Actor for the Person type
            index: Text
        impactLevel(影响级别):Text
        	desc: Quantify the impact level of events to facilitate public opinion analysis
        	index:Text
        sentimentScore(情感打分):Text
        	desc: Sentiment scoring of events
        	index:Text
        
Chunk(文本块): EntityType
     desc: A chunk refers to a segment of text.
     properties:
        content(内容): Text
          index: TextAndVector
```

**抽取结果：**

```
{"num_nodes": 21, "num_edges": 29, "num_subgraphs": 1}}}
{"num_nodes": 20, "num_edges": 29, "num_subgraphs": 1}}}
{"num_nodes": 29, "num_edges": 38, "num_subgraphs": 1}}}
{"num_nodes": 24, "num_edges": 31, "num_subgraphs": 1}}}
{"num_nodes": 37, "num_edges": 57, "num_subgraphs": 1}}}
```

**每段命名实体抽取结果**：

```shell
[{'name': '牛頭角彩盈邨盈富樓一單位，今（8日）中午12時58分，一名女子在單位內燒炭自殺', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '一名女子在單位內燒炭自殺'}, {'name': '今（8日）中午12時58分', 'type': 'Date', 'category': 'Date', 'description': '事件發生時間'}, {'name': '牛頭角彩盈邨盈富樓', 'type': 'Location', 'category': 'Location', 'description': '事件發生地點'}, {'name': '一名女子', 'type': 'Person', 'category': 'Person', 'description': '事件中的受害者'}, {'name': '聯合醫院', 'type': 'Location', 'category': 'Location', 'description': '受害者被送往的醫院'}, {'name': '警方', 'type': 'Organization', 'category': 'Organization', 'description': '負責處理事件的組織'}]

[{'name': '深圳南山今日（8日）發生巴士撞上巴士站，事後釀成2死1傷', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '巴士撞上巴士站导致2死1伤'}, {'name': '2月8日10時許', 'type': 'Date', 'category': 'Date', 'description': '事故发生时间'}, {'name': '南山區沙河西路茶光村公交站', 'type': 'Location', 'category': 'Location', 'description': '事故发生地点'}, {'name': '深圳公安', 'type': 'Organization', 'category': 'Organization', 'description': '负责通报事件的组织'}, {'name': '公交車司機', 'type': 'Person', 'category': 'Person', 'description': '事故中的司机'}]

[{'name': '台「太陽花女王」劉喬安波士頓落網 匿美逾5年被台灣通緝', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '台湾通缉犯刘乔安在美国被捕'}, {'name': '1月23日', 'type': 'Date', 'category': 'Date', 'description': '刘乔安被捕的时间'}, {'name': '波士頓', 'type': 'Location', 'category': 'Location', 'description': '刘乔安被捕的地点'}, {'name': '劉喬安', 'type': 'Person', 'category': 'Person', 'description': '被捕的台湾通缉犯'}, {'name': '美國移民及海關執法局（ICE）', 'type': 'Organization', 'category': 'Organization', 'description': '负责逮捕刘乔安的机构'}, {'name': '波士頓警方', 'type': 'Organization', 'category': 'Organization', 'description': '参 与逮捕刘乔安的机构'}, {'name': '台灣刑事局國際刑警科', 'type': 'Organization', 'category': 'Organization', 'description': '提供情报的机构'}, {'name': '新北地檢署', 'type': 'Organization', 'category': 'Organization', 'description': '将处理刘乔安归案后的机构'}, {'name': '2019年5月', 'type': 'Date', 'category': 'Date', 'description': '刘乔安进入美国的时间'}, {'name': '2019年8月', 'type': 'Date', 'category': 'Date', 'description': '刘乔安应离境的时间'}, {'name': '今日', 'type': 'Date', 'category': 'Date', 'description': '刑事局证实与美方合作的时间'}]

[{'name': '青衣公屋出現擲物狂，懷疑亂丟「針筒、用完安全套、洗頭水樽、用過嘅女士用品......寵物尿墊」', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '公屋擲物事件'}, {'name': '長康邨', 'type': 'Location', 'category': 'Location', 'description': '公屋擲物事件發生地點'}, {'name': '青衣街坊吹水會', 'type': 'Organization', 'category': 'Organization', 'description': '苦主在facebook群組上發帖訴苦的平台'}, {'name': '苦主', 'type': 'Person', 'category': 'Person', 'description': '公屋擲物事件的受害者'}, {'name': '康Ｘ樓Ｘ座20以上嘅缺德住戶', 'type': 'Person', 'category': 'Person', 'description': '涉嫌擲物的住戶'}, {'name': '房署', 'type': 'Organization', 'category': 'Organization', 'description': '苦主希望安裝閉路電視的機構'}]

[{'name': '特朗普稱DeepSeek不會構成國安威脅 料美國最終「受益」', 'type': 'NewsArticale', 'category': 'NewsArticale', 'description': '特朗普对DeepSeek的评论'}, {'name': '特朗普', 'type': 'Person', 'category': 'Person', 'description': '美国总统'}, {'name': 'DeepSeek', 'type': 'Organization', 'category': 'Organization', 'description': '中国AI企业'}, {'name': '7日', 'type': 'Date', 'category': 'Date', 'description': '特朗普发表评论的日期'}, {'name': '美國', 'type': 'Location', 'category': 'Location', '描述': '特朗普提到的国家'}, {'name': '韓國、意大利、澳洲、印度及日本', 'type': 'Location', 'category': 'Location', 'description': '禁止或限制使用DeepSeek的国家'}, {'name': ' 郭嘉昆', 'type': 'Person', 'category': 'Person', 'description': '中国外交部发言人'}, {'name': '周四', 'type': 'Date', 'category': 'Date', 'description': '郭嘉昆发表评论的日期'}, {'name': '中國', 'type': 'Location', 'category': 'Location', 'description': '郭嘉昆提到的国家'}]
```

**总览：**

![graph (29)](./assets/graph (29).svg)

效果还挺好的，实体很精简，并且没有什么独立的实体，事件实体抽取也不错。虽然也出现了一些重复实体，但是也是在能接受的范围内。prompt也是我自定义的。

### 实验三：新闻样本实体抽取

实体抽取效果比较好可能是因为数据是我整理后的json文件，格式都比较规范工整，再加上已经有了很好的prompt，所以大模型提取难度不大。

这里替换成原始新闻样本试一试，一共10条新闻，使用csv格式。

**实体抽取结果**：

```shell
[{'name': '关税局', 'type': 'Organization', 'category': 'Organization', 'description': '负责税收的机构'}, {'name': '财政部', 'type': 'Organization', 'category': 'Organization', 'description': '设定税收目标的机构'}, {'name': '2024年', 'type': 'Date', 'category': 'Date', 'description': '关税局取得655亿7000万令吉收入的年份'}, {'name': '2023年', 'type': 'Date', 'category': 'Date', 'description': '关税局收入为551亿7000万令吉的年份'}, {'name': '去年', 'type': 'Date', 'category': 'Date', 'description': ' 指2023年'}, {'name': '今天（9日）', 'type': 'Date', 'category': 'Date', 'description': '总监拿督阿妮丝丽扎娜召开记者会的日期'}, {'name': '布城关税局总部', 'type': 'Location', 'category': 'Location', 'description': '记者会召开的地点'}, {'name': '拿督阿妮丝丽扎娜', 'type': 'Person', 'category': 'Person', 'description': '关税局总监'}, {'name': 'Kuala Lumpur', 'type': 'Location', 'category': 'Location', 'description': '多个职位的工作地点'}, {'name': 'Wilayah Persekutuan', 'type': 'Location', 'category': 'Location', 'description': 'PHP Software Developer的工作地点'}]

[{'name': 'Mughal-era Shahi Jama Masjid', 'type': 'Organization', 'category': 'Organization', 'description': 'The mosque involved in the legal dispute'}, {'name': 'Chandausi', 'type': 'Location', 'category': 'Location', 'description': 'The location where the survey of the mosque took place'}, {'name': 'Sambhal (UP)', 'type': 'Location', 'category': 'Location', 'description': 'The city where tensions escalated due to the survey'}, {'name': 'March 5', 'type': 'Date', 'category': 'Date', 'description': 'The next date of hearing in the case'}, {'name': 'Shakil Ahmad Wari', 'type': 'Person', 'category': 'Person', 'description': 'The advocate representing the Muslim side'}, {'name': 'November 19 last year', 'type': 'Date', 'category': 'Date', 'description': 'The date when the court-mandated survey began'}, {'name': 'November 24', 'type': 'Date', 'category': 'Date', 'description': 'The date when the situation turned violent during the second survey'}, {'name': 'Harihar temple', 'type': 'Organization', 'category': 'Organization', 'description': 'The claimed ancient temple under the mosque'}, {'name': 'Supreme Court', 'type': 'Organization', 'category': 'Organization', 'description': 'The highest court in India, which issued directives'}]

[{'name': 'The Bombay High Court on Wednesday granted bail to researcher Rona Wilson and activist Sudhir Dhawale, arrested in the Elgar Parishad-Maoist links case', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': 'Bombay High Court grants bail to Rona Wilson and Sudhir Dhawale in the Elgar Parishad-Maoist links case'}, {'name': 'Wednesday', 'type': 'Date', 'category': 'Date', 'description': 'Date when the bail was granted'}, {'name': 'Bombay High Court', 'type': 'Organization', 'category': 'Organization', 'description': 'Court that granted bail'}, {'name': 'Rona Wilson', 'type': 'Person', 'category': 'Person', 'description': 'Researcher granted bail'}, {'name': 'Sudhir Dhawale', 'type': 'Person', 'category': 'Person', 'description': 'Activist granted bail'}, {'name': 'Elgar Parishad-Maoist links case', 'type': 'Activity', 'category': 'Activity', 'description': 'Case related to the Elgar Parishad conclave and alleged Maoist links'}, {'name': '2018', 'type': 'Date', 'category': 'Date', 'description': 'Year when Rona Wilson and Sudhir Dhawale were arrested'}, {'name': 'NIA', 'type': 'Organization', 'category': 'Organization', 'description': 'Prosecution agency in the case'}, {'name': 'Delhi', 'type': 'Location', 'category': 'Location', 'description': 'Place where Rona Wilson was arrested'}, {'name': 'Pune', 'type': 'Location', 'category': 'Location', 'description': 'Place where the Elgar Parishad conclave was held'}, {'name': 'December 31, 2017', 'type': 'Date', 'category': 'Date', 'description': 'Date when the Elgar Parishad conclave was held'}, {'name': 'Koregaon-Bhima', 'type': 'Location', 'category': 'Location', 'description': 'Place where violence occurred after the Elgar Parishad conclave'}, {'name': 'Pune district', 'type': 'Location', 'category': 'Location', 'description': 'District where the violence occurred'}]

[{'name': '消拯搜救人员于8日在河中寻获45岁的巫裔男子遗体', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '一宗坠河溺毙案'}, {'name': '港海墘街蓝卓公附近的河边，发生一起28岁华青黄伟宏疑癫痫症发作', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '另一宗案件'}, {'name': '一名45岁印裔男子于 当天中午约12时，在米都拉惹路桥的丹绒查理河畔坠河', 'type': 'JiuLongEvent', 'category': 'JiuLongEvent', 'description': '第二宗坠河溺毙案'}, {'name': '周三（8日）', 'type': 'Date', 'category': 'Date', 'description': '坠河溺毙案事件发生时间'}, {'name': '亚罗士打', 'type': 'Location', 'category': 'Location', 'description': '亚罗士打发生3宗坠河溺毙事件，该坠河溺毙事件是于周三（8日）在亚罗士打甘榜哥里基斯拿督坤峇路一带的河流发生'}, {'name': '亚罗士打甘榜哥里基斯拿督坤峇路', 'type': 'Location', 'category': 'Location', 'description': '坠河溺毙案发生的详细地址'}, {'name': '巫裔男子', 'type': 'Person', 'category': 'Person', 'description': '坠河溺毙案发生的受害者'}, {'name': '吉打州消拯局', 'type': 'Organization', 'category': 'Organization', 'description': '负责调查坠河溺毙案的组织'}, {'name': '阿末阿米努丁', 'type': 'Person', 'category': 'Person', 'description': '吉打州消拯局高级主任,负责调查此事件'}, {'name': '周三下午3时04分', 'type': 'Date', 'category': 'Date', 'description': '报警时间'}, {'name': '下午6时42分', 'type': 'Date', 'category': 'Date', 'description': '开始潜入水中找人'}, {'name': '晚上7时25分', 'type': 'Date', 'category': 'Date', 'description': '搜寻结束'}, {'name': '1月2日', 'type': 'Date', 'category': 'Date', 'description': '另一宗案件发生时间，华青黄伟宏疑癫痫症发作'}, {'name': '港海墘街蓝卓公', 'type': 'Location', 'category': 'Location', 'description': '华青黄伟宏疑癫痫症发作地点'}, {'name': '（1月3日） 上午9时51分', 'type': 'Date', 'category': 'Date', 'description': '华青黄伟宏遗体被发现时间'}, {'name': '距离400米处的丹绒查里河畔处', 'type': 'Location', 'category': 'Location', 'description': '华青黄伟宏遗体被发现地点'}, {'name': '1月5日', 'type': 'Date', 'category': 'Date', 'description': '第二宗坠河溺毙案发生时间'}, {'name': '45岁印裔男子', 'type': 'Person', 'category': 'Person', 'description': '第二宗坠河溺毙案的受害者'}, {'name': '米都拉惹路桥的丹绒查理河畔', 'type': 'Location', 'category': 'Location', 'description': '第二宗坠河溺毙案的发生地'}, {'name': '下午4时10分', 'type': 'Date', 'category': 'Date', 'description': '第二宗坠河溺毙案受害人遗体被发现时间'}]
[]
[]
[]
[]
[]
```

**总体概览**：

![graph (31)](./assets/graph (31).svg)

果然不尽人意，居然有五个样本的命名实体没有被抽取？打断点显示是空[]？但是在关系抽取的时候又抽取了大量关系，因此kag将这些实体全部归结为Other实体。而且有一个新闻大模型拒绝回答，因此返回的格式存在错误。

### 实验四：更改新闻格式

现在爆出来很多问题，为什么大模型一个实体都没有抽出来？为什么实体抽不出来关系又可以？为什么大模型拒绝回答？是不是数据格式问题？

现在解决最简单的问题：新闻格式问题

首先KAG不支持xlsx格式的表格，并且源xlsx表格提供了太多无关的信息，见下方表格：

| auto_id | categorycode | id   | sys_fld_sysid | url  | authorid | columnid | content | lang | layoutid | publishtime | sort2_id | sortid | source | standby2_id | standby3_id | standbyid | title | uniqueid | zoneid | mdb_table | mdb_file_dt | create_time | modify_time | rn   |
| ------- | ------------ | ---- | ------------- | ---- | -------- | -------- | ------- | ---- | -------- | ----------- | -------- | ------ | ------ | ----------- | ----------- | --------- | ----- | -------- | ------ | --------- | ----------- | ----------- | ----------- | ---- |
|         |              |      |               |      |          |          |         |      |          |             |          |        |        |             |             |           |       |          |        |           |             |             |             |      |

现在我要做的就是精简格式，写一个kag的scanner以支持xlsx读取，并且只抽取原文档的**content**和**title**

新增的xlsx_scanner.py代码如下：

```python
from typing import Dict, List
import pandas as pd
from kag.interface import ScannerABC
from kag.common.utils import generate_hash_id
from knext.common.base.runnable import Input, Output
import os

@ScannerABC.register("xlsx")
@ScannerABC.register("xlsx_scanner")
class XLSXScanner(ScannerABC):
    def __init__(
        self,
        header: bool = True,
        rank: int = 0,
        world_size: int = 1,
    ):
        super().__init__(rank=rank, world_size=world_size)
        self.header = header

    @property
    def input_types(self) -> Input:
        return str

    @property
    def output_types(self) -> Output:
        return Dict

    def load_data(self, input: Input, **kwargs) -> List[Output]:
        """
        读取xlsx文档，并且只读content和title

        Args:
            input (Input): The input file path to the XLSX file.
            **kwargs: Additional keyword arguments.

        Returns:
            List[Output]: A list of dictionaries containing the processed data.
        """
        input = self.download_data(input)  # 预处理输入路径，kag也支持url
        if self.header:
            data = pd.read_excel(input, dtype=str)
        else:
            data = pd.read_excel(input, dtype=str, header=None)
            # 如果没有表头，假设第一列是 title，第二列是 content，希望刘博的新闻媒体是有表头的
            data.columns = ["title", "content"]

        # 确保只处理 'title' 和 'content' 列
        required_columns = ["title", "content"]
        if not all(col in data.columns for col in required_columns):
            raise ValueError(f"Required columns {required_columns} not found in the file.")

        contents = []
        for _, row in data.iterrows():
            title = row["title"]
            content = row["content"]
            contents.append(
                {
                    "id": generate_hash_id(content),  # 使用 content 生成哈希 ID
                    "title": title,
                    "content": content
                }
            )
        print("扫描结果为：",contents)
        return contents
```

文档提取结果如下：（因为太多字符，影响观感，我这里只展示一部分）

```python
 [{'id': 'f99ff3b23dc844b1c702989ab8c8d02a2ed8f44c518a7d987203e31ad491498c', 'title': '百家论坛｜现实中不少政策只是看上去“很美”', 'content': '\u3000\u3000一，\n\n\u3000\u3000看到一个新闻，在热搜短暂的停留几分钟，然后就消失不见；\n\n\u3000\u3000顺着这个词条再搜索，才能找到媒体报道，而且那些原本的大媒也已经消失在词条，只剩下一些地方媒体
报道还在。\n\n\u3000\u3000脉络也不复杂，大意是四川广安的一位老人在家中熏腊肉，然后被社区工作人员收取了200元的教育管理费。\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\n\n\u3000\u3000除了这个教育管理费之外，老人还签下了保证书。\u200d\u200d\u200d\n\n\u3000\u3000然后这件事被上传到网络，\n\n\u3000\u3000当地的镇政府回应说，已经对社区的工作人员进行了严肃的批评教育，在今后的工作中要注重方式方法，老人的200元钱也已经退还。\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\n\n\u3000\u3000二，\n\n\u3000\u3000这件事，对于正能量们来说，屁大的事，不就200块钱嘛！\u200d\n\n\u3000\u3000但一滴水映射而出的是一个庞大的氛围。\u200d\u200d\u200d\u200d\n\n\u3000\u3000首先，这个说是社区，其实是个镇子，老人在家里露天熏制腊肉，代表着是独门独院的乡村房子，也所以不是居民楼那些会造成隐患，影响邻居的那种地儿。说实话，咱们该有多 
少人是在农村出来的，露天一个锅烧柴火做饭的年月没过去几年的。农村不都是烧柴火做饭吗？熏腊肉也是一种地方上的习俗，逢年过节，这个时候还有二十几天过年了，这个老人按照自己幼年时期
父母留下来的传统，在家里备一点腊肉过年，说实话，不过分的。大气污染这个东西，和几年前流行的烧秸杆污染大气是一种说辞。真正造成污染的并非是农村的这点，祖祖辈辈烧柴火的年月，晚上
的天都是不用照灯的。\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\n\n\u3000\u3000讲到烧秸杆，我印象很深的是一个和熏腊肉新闻同样遭遇的另一个老人，\n\n\u3000\u3000看到下面这个检讨了没，私自烧秸杆，愿意接受处罚，永不再烧秸杆。\n\n\u3000\u3000再看下面这个画面
，这100元钱的罚款，说实话，我看到后心是在颤抖的。我不知道这些罚款者当时是用什么样的心态来拿这个钱的。\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\u200d\n\n\u3000\u3000当时我为这个老人写过文章；当时有着诸多的正能量说烧桔杆违法，不能因为年龄大就同情之类的。但现在呢，说烧桔杆污染的专家结果证实是个汉奸，被抓了 
，而人民日报今年也开始站出来说话了，\u200d\u200d\u200d\u200d\u200d\n\n\u3000\u3000现实中不少政策只是看上去“很美”。\n\n\u3000\u3000其次，讲一个法律概念，媒体的报道说实话已经给
这个社区很大的脸面，将这个200元钱定义为教育管理费。再说白了，什么教育管理费，不就是罚款吗？\u200d\u200d\u200d\u200d\n\n\u3000\u3000但问题是，社区工作人员是没有执法权的，国家 
并未赋予社区罚款的权力，也就是说，这本就是违法行为。而非是一句教育管理费。如是之，我一个普通人走在街上，看到一个瘦小的人，上去就推一把，请你给我一点保护费，两百元就可以。那么
这是什么行为？'}, 
{'id': 'cee3bb614c793f0e288ab1f57af0bb0decd83c494bf68363b2880834810d021a', 'title': "'We are very exposed' — Canadian businesses fear fallout as Trump ratchets up tariff threats", 'content': "\u3000\u3000The prime minister is stepping down and incoming U.S. president Donald Trump is upping the ante on his tariff threats on Canada, saying Tuesday he will impose “substantial” levies on products from this country when he takes office in just 12 days.\n\n\u3000\u3000We apologize, but this video has failed to load.Try refreshing your browser, or\n\n\u3000\u3000tap here to see other videos from our team.'We are very exposed' — Canadian businesses fear fallout as Trump ratchets up tariff threats Back to video\n\n\u3000\u3000For Alberta businesses, this is a worrisome period surrounding the country’s most important trading partnership, arriving at a critical time when much of Ottawa will be increasingly focused on who will become Canada’s next prime minister to replace Justin Trudeau.\n\n\u3000\u3000“Businesses are preparing today for the very strong likelihood that they will see tariffs. If they are in the most severe version — the 25 per cent across the working board — '}, 
{'id': 'ada8db1dc4102e398994114daae0881baaf14fee10099122fd5effced2485afc', 'title': 'Increase in enrolment rate in elementary education in Arunachal: CM Khandu', 'content': '\u3000\u3000Arunachal Pradesh Chief Minister Pema Khandu (Photo: PTI)\n\n\u3000\u3000Press Trust of IndiaItanagar2 min readLast Updated :Jan 08 2025 | 2:25 PMISTListen to This Article\n\n\u3000\u3000Arunachal Pradesh Chief Minister Pema Khandu on Wednesday said there has been an increase in the enrolment rate in elementary education and a reduction in the dropout rate at the secondary level in the state.\n\n\u3000\u3000He said the state has achieved a notable reduction in the dropout rate at the secondary level to 11.7 per cent.\n\n\u3000\u3000Khandu '}, 
{'id': '70f716fb9ae6dccd86a8ba9f7a62a39a535a0ca9ad619eeca11461df34bcb308', 'title': '天气冷血压高｜营养师推介DASH得舒饮食', 'content': '\u3000\u3000小寒过后，冬季候风 
来袭，天文台预计周末将降至最低12度。天气急剧下降，血管收缩导致血压上升，如果不及时预防和保暖，可能会引发严重的心血管疾病。\n\n\u3000\u3000近年国际上备受推崇的得舒降血压饮食法
(DASH diet)，是一个有效改善高血压饮食方案。究竟方法如何？\n\n\u3000\u3000DASH得舒饮食法主要透过摄取丰富的镁、钙、钾、膳食纤维及不饱和脂肪酸，来降低、控制高血压及预防心血管疾 
病。\n\n\u3000\u3000DASH得舒饮食法五大原则：\n\n\u3000\u30001. 主食选择全谷物\n\n\u3000\u3000尽量以全谷类(如糙米、燕麦米、紫米等)取代白米、白面等精致淀粉。\n\n\u3000\u30002. 
蔬果5+5\n\n\u3000\u3000每日应摄取约5份水果和5份蔬菜。\n\n\u3000\u3000选择含较高水溶性纤维及果胶的蔬果，如菇类、木耳、苹果等。\n\n\u3000\u3000水溶性纤维有助降低坏胆固醇、血压 
及增加血管弹性。\n\n\u3000\u3000水果和蔬菜的分量：\n\n\u3000\u30001份水果约等於切块后能装满1个碗。\n\n\u3000\u30001份蔬菜约等於能装满八成的碗。\n\n\u3000\u3000水果可选高纤高 
钾类，如香蕉，有助降血压。\n\n\u3000\u3000蔬菜可选含纤维、钙质的西兰花、菜心、秋葵等。\n\n\u3000\u30003. 选择低脂乳品\n\n\u3000\u3000每日摄取1至2杯低脂乳品，如低脂乳酪、乳酪 
饮品或芝士。\n\n\u3000\u3000乳品含钙，有助稳定血压。\n\n\u3000\u30004. 以白肉代替红肉\n\n\u3000\u3000选择白肉(如鱼肉、鸡肉、鸭肉)取代红肉以吸收蛋白质。\n\n\u3000\u3000避免高 
饱和脂肪及反式脂肪食物：\n\n\u3000\u3000饱和脂肪主要来自动物性脂肪(如牛腩、排骨)。\n\n\u3000\u3000反式脂肪常见於松化、高温焗制的食物(如酥皮、油炸食品)。\n\n\u3000\u3000过量的
油脂会增加心血管疾病风险。\n\n\u3000\u30005. 选好油、食坚果\n\n\u3000\u3000使用橄榄油、沙拉油、芥花油等植物油，取代猪油、奶油等动物油。\n\n\u3000\u3000每日可摄取约10粒坚果(如
腰果、开心果、核桃)，补充丰富不饱和脂肪酸。\n\n\u3000\u3000三文鱼、沙甸鱼和黄花鱼含奥米加3脂肪酸，建议每周进食2次(每次约100克)。\n\n\u3000\u3000鸡蛋、黄豆及豆类制品同样含优质
蛋白质，属健康低脂之选。\n\n\u3000\u3000世界衞生组织(WHO)建议成人每日的钠摄取量应少於2,000毫克(相等於1茶匙盐)，2克的钠等於5克的盐。控盐可从减少使用调味料，及避免食用加工及腌 
制食物入手。 除了盐、豉油及蚝油外，其实调味料如鸡粉、鲜露、海鲜酱、茄汁等亦含不少盐分。日常烹调时，建议多使用姜、蒜蓉、洋葱、胡椒、各式香草等天然低钠调味料为食材增添味道。天 
然调味料含有不同的植物抗氧化物，有利血管健康。外出进食时，应避免“捞汁”吃饭，酱料亦尽量另上，以减少钠质摄取。\n\n\u3000\u3000两类人需要特别留意：\n\n\u3000\u3000肾功能衰退人士
：得舒饮食含有高钾、高磷和高钙，若本身肾功能不佳或肾功能衰退人士，建议可询问医生或营养师。\n\n\u3000\u3000糖尿病患者：得舒饮食主张多水果、多蔬菜。然而，水果含有不少果糖，有些
蔬菜亦含高淀粉质。建议由营养师跟进饮食，以评估自己是否适合采用这个饮食方案。'},
{'id': '4ccafd5d7a17ab410839e7d0c341810715f33e1f4fc63345ceaf443de56f3e5a', 'title': '45岁男子 
坠河溺毙  亚罗士打开年以来第3宗', 'content': '\u3000\u3000消拯搜救人员于8日在河中寻获45岁的巫裔男子遗体。\n\n\u3000\u3000又一宗坠河溺毙案，这已是今年开年以来,亚罗士打第3宗坠 
河溺毙事件。\n\n\u3000\u3000该坠河溺毙事件是于周三（8日）在亚罗士打甘榜哥里基斯拿督坤峇路一带的河流发生，死者是约45岁的巫裔男子。\n\n\u3000\u3000吉打州消拯局高级主任阿末阿米 
努丁指出，消拯局于周三下午3时04分接获有一名男子坠河后下落不明，派员到场展开搜寻行动。消拯人员把死者遗体抬上车以便送往亚罗士打太平间。\n\n\u3000\u3000他说，搜救人员于当天下午6时42分潜入人中寻人，直到下午6时58分寻获死者，遗体交给警方处理，搜寻行动于晚上7时25分结束行动。\n\n\u3000\u3000今年开年隔天即1月2日，在太子路过港海墘街蓝卓公附近的河边，发生一
起28岁华青黄伟宏疑癫痫症发作，脱掉上衣与裤子只身穿一条内裤往草丛的河边跑去而失去踪影，直到隔天（1月3日） 上午9时51分，在距离400米处的丹绒查里河畔处寻获其遗体搁浅在河岸旁。第2宗坠河溺毙案是发生在1月5日，一名45岁印裔男子于当天中午约12时，在米都拉惹路桥的丹绒查理河畔坠河，死者遗体于当天下午4时10分寻获。\n\n\u3000\u3000找工作， 就找这里!\n\n\u3000\u3000我要招聘 ›\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Social Media Marketing Executive\n\n\u3000\u3000Advertising & Marketing\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 
6K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000PHP Software Developer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Wilayah Persekutuan\n\n\u3000\u3000MYR 6K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000DevOps Software Engineer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 6.5K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Java Software Engineer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 10K /Month\n\n\u3000\u3000› 立即申
请\n\n\u3000\u3000GMBB Part Timer\n\n\u3000\u3000Event\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 110.00 /Day\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000软件测试与客户支持 
专员 Software Testing & Customer Support Specialist\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 3K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Software Developer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 4K /Month\n\n\u3000\u3000按这里看更多的工作  ›'}, {'id': 'c17fc0f547ca3db15113888f95a55dff03a9f1bc217084d7463f4cef98299d16', 'title': '去年关税局获655.7亿收入 超过560亿预设目标', 'content': '\u3000\u3000关税局在2024年取得655亿7000万令吉收入，成功超过财政部设下的560亿令吉的目标。\n\n\u3000\u3000她也有信心，今年可以达到财政部为关税局设下今年的672亿5000万令吉的收入目标。她说，关税局在2023年的收入为551亿7000万令吉，去年收入增至655亿7000万令吉，为国家带来104 亿令吉的额外收入，增幅为18.85%。\n\n\u3000\u3000她说，这是疫情后最高的税收收入，反映了关税局通过加强执法、税务合规和数码
化的努力。总监拿督阿妮丝丽扎娜今天（9日）在布城关税局总部召开记者会公布关税局在去年的表现时，如是表示。\n\n\u3000\u3000找工作， 就找这里!\n\n\u3000\u3000我要招聘 ›\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Social Media Marketing Executive\n\n\u3000\u3000Advertising & Marketing\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 6K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000PHP Software Developer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Wilayah Persekutuan\n\n\u3000\u3000MYR 6K /Month\n\n\u3000\u3000› 立即 
申请\n\n\u3000\u3000DevOps Software Engineer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 6.5K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Java Software Engineer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 10K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000GMBB 
Part Timer\n\n\u3000\u3000Event\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 110.00 /Day\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000软件测试与客户支持专员 Software Testing & 
Customer Support Specialist\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 3K /Month\n\n\u3000\u3000› 立即申请\n\n\u3000\u3000Software Developer\n\n\u3000\u3000Information Technology\n\n\u3000\u3000Kuala Lumpur\n\n\u3000\u3000MYR 4K /Month\n\n\u3000\u3000按这里看更多的工作  ›'}]
```

成功扫描了**content**和**title**，但是太多特殊字符，比如反斜杠、u300 @ # 还 想办法进行数据清洗，这些字符对Qwen 72B来说会影响实体提取效果。同时仍有不少报错，显示都是内容敏感，大模型拒绝回答，这个问题后续用本地部署大模型就可以解决一些。

**提取效果如下**：

![graph (32)](./assets/graph (32).svg)

很明显，改进了不少，下一步就是剔除一下特殊字符

### 实验五：剔除特殊字符

在xlsx_scanner.py文件中加入数据清洗代码：

```python
from typing import Dict, List
import pandas as pd
from kag.interface import ScannerABC
from kag.common.utils import generate_hash_id
from knext.common.base.runnable import Input, Output
import os
import re
@ScannerABC.register("xlsx")
@ScannerABC.register("xlsx_scanner")
class XLSXScanner(ScannerABC):
    def __init__(
        self,
        header: bool = True,
        rank: int = 0,
        world_size: int = 1,
    ):
        super().__init__(rank=rank, world_size=world_size)
        self.header = header

    @property
    def input_types(self) -> Input:
        return str

    @property
    def output_types(self) -> Output:
        return Dict

    def clean_text(self,text: str) -> str:
        """
        清洗文本，去除无关字符和多余空格。
        """
        # 替换中文空格（\u3000）和其他特殊空白符为普通空格
        text = re.sub(r'\s+', ' ', text)
        # 去除多余的换行符和制表符
        text = re.sub(r'\n+', '\n', text)
        text = re.sub(r'\t+', ' ', text)
        text = re.sub(r'\u200d', '', text)
        # 去除开头和结尾的多余空格
        text = text.strip()
        return text
    def clean_data(self,data: List[Dict]) -> List[Dict]:
        """
        清洗数据列表中的 title 和 content 字段。
        """
        cleaned_data = []
        for item in data:
            cleaned_item = {
                "id": item["id"],  # 保留原始 ID
                "title": self.clean_text(item["title"]),  # 清洗 title
                "content": self.clean_text(item["content"])  # 清洗 content
            }
            cleaned_data.append(cleaned_item)
        return cleaned_data
    def load_data(self, input: Input, **kwargs) -> List[Output]:
        """
        Loads data from an XLSX file and converts it into a list of dictionaries.
        Only 'title' and 'content' columns are processed.

        Args:
            input (Input): The input file path to the XLSX file.
            **kwargs: Additional keyword arguments.

        Returns:
            List[Output]: A list of dictionaries containing the processed data.
        """
        input = self.download_data(input)  # 预处理输入路径
        if self.header:
            data = pd.read_excel(input, dtype=str)
        else:
            data = pd.read_excel(input, dtype=str, header=None)
            # 如果没有表头，假设第一列是 title，第二列是 content，希望刘博的新闻媒体是有表头的
            data.columns = ["title", "content"]

        # 确保只处理 'title' 和 'content' 列
        required_columns = ["title", "content"]
        if not all(col in data.columns for col in required_columns):
            raise ValueError(f"Required columns {required_columns} not found in the file.")

        contents = []
        for _, row in data.iterrows():
            title = row["title"]
            content = row["content"]
            contents.append(
                {
                    "id": generate_hash_id(content),  # 使用 content 生成哈希 ID
                    "title": title,
                    "content": content
                }
            )
        # 清洗数据
        cleaned_data = self.clean_data(contents)

        print("扫描结果为：",cleaned_data)
        return cleaned_data

```

**扫描结果**：

```shell
扫描结果为： [{'id': 'f99ff3b23dc844b1c702989ab8c8d02a2ed8f44c518a7d987203e31ad491498c', 'title': '百家论坛｜现实中不少政策只是看上去“很美”', 'content': '一， 看到一个新闻，在热搜短暂的停留几分钟，然后就消失不见； 顺着这个词条再搜索，才能找到媒体报道，而且那些原本的大媒也已经消失在词条，只剩下一些地方媒体报道还在。 脉络也不复杂，大意是四川广安的一位老人在家中熏腊肉，然后被社区工作人员收取了200元的教育管理费。 除了这个教育管理费之外，老人还签下了保证书。 然后这件事被上传到网络， 当地的镇政府回应说，已经对社区的工作人员进行了严肃的批评教育，在今后的工作中要注重方式方法，老人的200元钱也已经退还。 二， 这件事，对于正能量们来说，屁大的事，不就200块钱嘛！ 但一滴水映射而出的是一个庞大的氛围。 首先，这个说是社区，其实是个镇子，老人在家里露天熏制腊肉，代表着是独门独院的乡村房子，也所以不是居民楼那些会造成隐患，影响邻居的那种地儿。说实话，咱们该有多少人是在农村出来的，露天一个锅烧柴火做饭的年月没过去几年的。农村不都是烧柴火做饭吗？熏腊肉也是一种地方上的习俗，逢年过节，这个时候还有二十几天过年了，这个老人按照自己幼年期父母留下来的传统，在家里备一点腊肉过年，说实话，不过分的。大气污染这个东西，和几年前流行的烧秸杆污染大气是一种说辞。真正造成污染的并非是农村的这点，祖祖辈辈烧柴火的年月，晚上的天都是不用照灯的。 讲到烧秸杆，我印象很深的是一个和熏腊肉新闻同样遭遇的另一个老人， 看到下面这个检讨了没，私自烧秸杆，愿意接受处罚，永不再烧秸杆。 再看下面这个画面，这100元钱的罚款，说实话，我看到后心是在颤抖的。我不知道这些罚款者当时是用什么样的心态来拿这个钱的。 当时我为这个老人写过文章；当时有着诸多的正能量说烧桔杆违法，不能因为年龄大就同情之类的。但现在呢， 说烧桔杆污染的专家结果证实是个汉奸，被抓了，而人民日报今年也开始站出来说话了， 现实中不少政策只是看上去“很美”。 其次，讲一个法律概念，媒体的报道说实话已经给这个社区很大的脸面，将这个200元钱定义为教育管理费。再说白了，什么教育管理费，不就是罚款吗？ 但问题是，社区工作人员是没有执法权的，国家并未赋予社区罚款的权力，也就是说，这本就是违法行为。而非是一句教育管理费。如是之，我一个普通人走在街上，看到一个瘦小的人，上去就推一把，请你给我一点保护费，两百元就可以。那么这是什么行为？ 还有便是，一个现实的问题。 200元，对于那些 看直播，给网红随便刷一个小礼物的人来说，可能也就是博美人一笑的一下下，对更多那些主流牛逼人物来说，200元仿佛就不是钱一样，但对于一些乡镇的老人来说，200元可能是养了几年的一只母鸡，几个月攒下来不舍得吃的鸡蛋。 同样的200元，朋友们，厚度是不一样的！ 也所以，人，一定要有人该有的味道。 三， 至于其他的，真的不想说。当地教育管理费真的只有这一个老人吗？无 非是这个老人幸运的被人看到而已。也所以，这不是一个孤立的200元事件，这背后或许还有着很多200元已经拿出去，而没有退回来的老人。 我以前是经常到这些乡镇的，我亲眼见证过无数的上面 这个拿一只母鸡摆在路边等着售卖的老人，他们要卖掉自己养了可以下蛋的母鸡，或许只是为了换一点食用油回家做菜，或许也只是为了去医院买一点药，或许是为了其他的应急。 说实话，我写到 这里时很难过的。是无法继续再延展这样一个人间的脉络。 四， 去年的这个时候，也算是我极为落魄的一段难捱时间，那个时候我还在宝山水产路附近，当时一位老人家，也是一位从警四十多年赋闲在家养老的一位智者邀我去吃饭，因为我俩关系还算不错，疫情被封的那几个月，我们当时在一个楼层，然后气到不行，总之就是我俩冲出了那道防线，在空阔的大街上散步了半天，然后算是患难之交的那种吧，什么话都可以说。 我记得吃饭的时候他问我，你天天写，其实是写不完的。尤其是你看你关注的这些都是小事，其实没大意思和前途。他说，依照他的人生经验，写文章有两个出路 。要么是宏大吹牛逼，当然，这个吹牛逼不是谄媚拍马屁，而是海阔天空，经史子集，国际那种，受众基本很多，掺杂一些历史，气场开得足够，这样的文章受众基本很多；要么是发现美，看到美，人对美都是有着天然的兴致，而非是。。。 讲到这里，他隐晦的对我说，你写的这个都是人间之恶，尤其是底层的挣扎，说实话，看文章的其实大多又都是中产。总之我的方向不对。 我没有反驳，而是思考，深度思考的那种。 然后我说，我其实很懒，不会去考虑那么多，也可能我自己就是底层，就是看到有表达欲的事情表达出来罢了，如果按照您所说的对的方向，我可能做不下来，也写不 出来。也就是说，我不是那种天然的生意人，可能我这辈子就这样了，一是懒，二是也不愿动脑子去想那么多。 他听后也沉默，就不再继续这个话题了。 五， 我记得很清楚，当时在回来的路上， 我脑海里萦绕着的是纪伯伦的那些话：“我们活着只为的是去发现美。其他一切都是等待的种种形式。” 我也不愿：“我睁开眼睛，看到的是一片黑暗；我张口说话，说出的全是悲伤。” 其实很多的时候，看到黑的，将心里的悲伤表达出来，也是为了美。'}, 
{'id': 'cee3bb614c793f0e288ab1f57af0bb0decd83c494bf68363b2880834810d021a', 'title': "'We are very exposed' — Canadian businesses fear fallout as Trump ratchets up tariff threats", 'content': "The prime minister is stepping down and incoming U.S. president Donald Trump is upping the ante on his tariff threats on Canada, saying Tuesday he will impose “substantial” levies on products from this country when he takes office in just 12 days. We apologize, but this video has failed to load.Try refreshing your browser, or tap here to see other videos from our team.'We are very exposed' — Canadian businesses fear fallout as Trump ratchets up tariff threats Back to video For Alberta businesses, this is a worrisome period surrounding the country’s most important trading partnership, arriving at a critical time when much of Ottawa will be increasingly focused on who will become Canada’s next prime minister to replace Justin Trudeau. “Businesses are preparing today for the very strong likelihood that they will see tariffs. If they are in the most severe version — the 25 per cent across the working board — it’d be economically devastating,” Scott Crockatt of the Business Council of Alberta said Tuesday. “This just sort of underscores the reason we need very, very strong representation for Canada to both nurture and negotiate the next chapter in the most important bilateral relationship on Earth, which is Canada and the United States.” On Tuesday, Trump held a lengthy news conference, reiterating his threat to impose tariffs on Mexico and Canada. He previously vowed to put a 25 per cent levy on all products from both countries if they don’t stop illegal drugs and migrants from entering the country. But just a day after Trudeau announced he would step down as prime minister, Trump ramped up the rhetoric. He insisted the U.S. is “not treated well” by Canada due to a trade deficit — largely due to America buying energy — and he talked about using “economic force” to make Canada the 51st U.S. state. “Canada and the United States, that would really be something. You get rid of that artificially drawn line and you take a look at what that looks like, and it would also be much better for national security,” Trump said. “We don’t need their cars. We don’t need their lumber . . . We don’t need anything, so why are we losing $200 billion a year and more to protect Canada?” Trudeau responded quickly on social media, saying there isn’t “a snowball’s chance in hell” that Canada would become part of the United States. There isn’t a snowball’s chance in hell that Canada would become part of the United States. Workers and communities in both our countries benefit from being each other’s biggest trading and security partner. — Justin Trudeau (@JustinTrudeau) January 7, 2025 Setting aside Trump’s growing rhetoric, Statistics Canada reported Tuesday that the country’s trade surplus with the U.S. increased to $8.2 billion in November. The biggest part of Canada’s trade with the U.S. comes from natural gas and oil, which feeds refineries, particularly in the U.S. Midwest. Putting tariffs in place would boost energy prices for U.S. consumers, and some analysts believe oil and gas will not be hit by the Trump administration. Canada 
is the largest foreign energy supplier to the United States, providing about 60 per cent of American oil imports in 2023. “Nobody wins” if tariffs are applied on Canadian oil and gas, said Lisa Baiton, CEO of the Canadian Association of Petroleum Producers. “The impact of a tariff in any form, it affects American energy prices and it will impact 
Canadian production, and that, in turn, is going to have significant negative consequences for our producers and for the Canadian economy,” Baiton said in an interview. “It’s a critical moment for Canada . . . We’re just under two weeks from a president coming in and we have a whole lot of political uncertainty here at home, at a time when we should have all our ducks in a row and be on our front foot to protect Canada.” Lisa Baiton is the chief executive of the Canadian Association of Petroleum Producers. Photo by Darren Makowichuk /Postmedia Network The new data show how big that cross-border trade is and what’s at stake for this province. According to ATB Financial, 89 per cent — or $147 billion — of provincial exports moved south during the first 11 months of 2024. If a 25 per cent tariff was adopted by the U.S., Alberta exports would drop and the province’s economy would contract by about 0.3 per cent this year, instead of growing by an expected 2.5 per cent, ATB analysis indicates. However, that recessionary outlook is not ATB’s base-case scenario. ATB chief economist Mark Parsons noted more than 30 per cent of Canadian exports to the U.S. were energy products. And even with increasing shipments of oil to Asia through the expanded Trans Mountain pipeline, 94 per cent of all Canadian energy exported in November went into the U.S. “A lot of Canadian wealth and prosperity is driven by our U.S. trade, and in particular trade in energy products to the U.S.,” said Parsons. “We are very exposed.” Mark Parsons, vice president and chief economist for ATB Financial, speaks to media at the 2025 Economic Outlook event hosted at the BMO Centre on Tuesday, Oct. 8, 2024. Brent Calver/Postmedia Relative to ATB’s base case, Alberta business investment would dip by six per cent and total international exports would fall by four per cent under a 25 per cent tariff scenario, as much of the oil headed south would continue to flow, although at a discounted price, he said. As this tariff talk unfolds, Canada will soon see a federal Liberal leadership race and, potentially, a federal election. For businesses, this is a troubling moment, particularly with the political turmoil on the federal scene and the need for a forceful response. Calgary Chamber of Commerce CEO Deborah Yedlin would like to see a strategy developed and economic analysis undertaken to fully understand the effect of any tariffs on various sectors, and how to best counter those effects. “This is a time to have strong leadership, because without strong leadership, weaknesses are exploited,” Yedlin said. “We are starting on our back foot, we are not starting from a position of strength. And businesses need certainty and they need stability in order to risk capital.” Chris Varcoe is a Calgary Herald columnist. cvarcoe@postmedia.com"}, 
{'id': '9cfbcc649d237af265aeb80b4c9a3887b051a6f7183f992c695014066bf708b6', 'title': 'Bitcoin miners stockpile coins to ride out profit squeeze', 'content': "U.S. bitcoin miners are accumulating war chests of the cryptocurrency to help them withstand tightening margins as competition for resources intensifies. We apologize, but this video has failed to load.Try refreshing your browser, or tap here to see other videos from our team.Bitcoin miners stockpile coins to ride out profit squeeze Back to video Companies including Mara Holdings Inc., Riot Platforms Inc. and CleanSpark Inc. have used the soaring price of bitcoin, which hit US$100,000 last month, to raise more than US$3.7 billion from investors since November, which they have then used to fund the purchase of the coins. They have often raised the funds through zero, or near-zero, coupon convertible notes. Their moves come in the wake of Donald Trump‘s election victory, with the incoming U.S. president having promised that bitcoin would be “mined, minted and made in the USA.” But for many, the headlong rush to buy more of the currency they are also mining comes down to protecting themselves against 
further financial pressure from high energy costs. “It’s not as simple as the price of bitcoin has gone up and everyone’s happy,” said Russell Cann, chief development officer at Core Scientific Inc. “Complex challenges still remain around profitability and access to the grid.” The miners’ ambitious plans, which also include expanding capacity for artificial intelligence (AI), mark a sharp reversal of outlook for the industry, which has struggled over the past eight months after the reward they receive for mining bitcoin halved. Miners compete with each other to validate blocks of new transactions in bitcoin, making them a crucial link in ensuring the bitcoin network is secure and reliable. The computer programs that run the bitcoin network are designed to halve the reward available to miners every four years. The latest, in April, cut the spoils on offer for miners from 900 to just 450 coins a day. Investor Canada's best source for investing news, analysis and insight. There was an error, please provide a valid email address. By signing up you consent to receive the above newsletter from Postmedia Network Inc. Thanks for signing up! A welcome email is on its way. If you don't see it, please check your junk folder. The next issue of Investor will soon be in your inbox. We encountered an issue signing you up. Please try again CoinShares International Ltd., the investment group, estimated that the average cost to produce one bitcoin for all U.S.-listed miners rose to US$55,950 in the third quarter, up 13 per cent on the previous quarter. Including depreciation and stock-based compensation charges, the average cost to produce a bitcoin was US$106,000. On Monday the cryptocurrency was trading at about US$102,175. “If the price didn’t rise, then we would have started to see quite a few start to turn rigs off or go bust,” said James Butterfill, head of research at CoinShares. But the soaring price of bitcoin has pushed up one gauge of mining profitability, known has the hash price, which has risen 32 per cent since Trump’s victory. That glimmer of hope has prompted many miners to return to capital markets in search of fresh funds. Some, such as Mara and Riot, are now taking their lead from MicroStrategy Inc., a software group turned bitcoin purchaser that has led the way in issuing long-term convertible bonds to buy bitcoin. Miners are also promising to make the cryptocurrency the reserve asset for their corporate treasuries, increasing their bitcoin reserves and retaining all the new coins they mine. “This ‘Trump bump’ has essentially given us more impetus to continue to invest in the U.S.,” said Fred Thiel, chief executive of Mara Holdings. Its business model now is to “accumulate as much bitcoin as [we] can.” It now has nearly 45,000 bitcoin, worth more than US$4.4 billion. Asher Genoot, chief executive of Hut 8 Corp., considers his company an “energy infrastructure” group with bitcoin as the financial base of its balance sheet. In two months, the industry has plowed about US$1.8 billion of what it has raised into buying bitcoin. However, the pressure on the miners has not abated. The collective amount of computing power required to secure the network, known as the hash rate, has continued to climb as new entrants come into the market. It hit an all-time high on Friday. The rising rate threatens to counteract the benefits of bitcoin’s price increase, further squeezing corporate profits. “We are seeing a stratospheric rise in the bitcoin hash rate, highlighting a massive amount of new hardware coming online, making those at the higher end of cost of production much more vulnerable if we see a price correction,” Butterfill said. The U.S. industry is also facing fierce competition for resources at home. It has long been under pressure to justify its energy usage. The U.S. Energy Information Agency estimates mining may already use 2.3 per cent of the country’s grid, although, with limited access to data, predictions vary. The Bitcoin Energy Consumption Index estimates that bitcoin trading at about US$100,000 uses the same annualized energy as Poland. Utility regulators in Texas demanded in November that all data centre facilities that consume more than 75 megawatts provide annual energy data. The state is the largest in the United States for crypto mining and authorities are predicting that demand for energy from large users will jump 60 per cent in 2025. Executives say the bigger challenge comes from large-scale AI developers who have greater financial resources than miners. “Artificial intelligence demand in the U.S. is going to greatly affect how much bitcoin mining can be added to the grid,” said Core Scientific’s 
Cann, who predicted that the majority of computing power for bitcoin in coming years would be outside the U.S. “It’s just math to say: Is [the grid]’s best use as a bitcoin mining facility, or as an AI data centre? And right now, from an economics perspective, it’s going to be AI,” said Cann. Mara aims to offshore half of its mines by 2028, expanding in places that have surplus energy, such as Kenya, the United Arab Emirates and Paraguay. But others are trying to finder faster routes to profits by riding the AI wave. The Nvidia graphic processing units used for cryptocurrency mining also lend themselves to handle the vast quantities of data for AI. Hut 8, Core Scientific and Hive have all pivoted to leasing their data centre capacity to artificial intelligence hyperscalers (large-scale computing companies). “Yes, bitcoin’s up, and it really helps, but if energy prices were to spike tomorrow, it’s still a tough day to be a bitcoin miner,” said Zach Bradford, chief executive of CleanSpark, a U.S.-listed cryptocurrency miner. © 2025 The Financial Times Ltd"}, 
{'id': 'eb4f901f4e001a523ab54208b4446d9ba746bb0535b213ca62c7b6e92e7a2e49', 'title': 'Delhi HC sets aside CIC order asking Trai to demand service provider info', 'content': 'The high court, in its order, said the CIC\'s observation requiring a customer to seek redressal before the consumer disputes redressal forum was misplaced and beyond its statutory mandate. Press Trust of IndiaNew Delhi2 min readLast Updated :Jan 08 2025 | 9:13 PMISTListen to This Article The Delhi High Court has set aside an order of the Central Information Commission directing the Telecom Regulatory Authority of India (Trai) to demand information from the phone service provider and give 
it to a customer under the RTI Act. Justice Sanjeev Narula said Trai requesting information from telecom service providers (TSP) was confined to fulfilling its regulatory functions and did not extend to addressing individual grievances or accessing customer-specific information solely for dissemination under the RTI framework. The high court, in 
its order, said the CIC\'s observation requiring a customer to seek redressal before the consumer disputes redressal forum was misplaced and beyond its statutory mandate. "Trai is not a service provider or a consumer under the Consumer Protection Act, and any grievance against Trai\'s actions or inactions must be pursued before the TDSAT (Telecom Disputes Settlement and Appellate Tribunal), as established under the Trai Act. By making observation and issuing directions unrelated to the scope of the RTI Act, the CIC undermined the legislative framework governing the resolution of telecom disputes," it said. The court therefore allowed Trai\'s plea against the CIC order. Also ReadRuthless 
intensity behind Feb 2020 riots: Delhi Police opposes bail pleas\'No reason to interfere...\' Delhi HC dismisses plea challenging CAT resultDelhi HC asks RBI to expedite system to verify receiver name in RTGS, NEFTDelhi HC says endless incarceration without trial violates Article 21Delhi HC seeks Patanjali stand on lawsuit by Dabur over \'disparaging\' ad "The court finds merit in the petitioner\'s challenge to the impugned order. The CIC erred in directing Trai to requisition information from the TSP, Vodafone, and 
provide it to the respondent (consumer) under the RTI Act," the court held on January 7. The consumer registered his cellphone number under the "fully blocked" category of the national do not call registry and despite requesting this service, Vodafone allegedly altered his "do not disturb" status without consent. Aggrieved by the inaction on his 
formal complaints to the service provider, the man sought recourse under the RTI Act to obtain details on the status of his complaints. The central public information officer provided him with the information but still dissatisfied, he filed an appeal and matter eventually landed in the CIC. In June 2024, the CIC directed Trai to demand information on the man\'s complaints from Vodafone, and provide it to him under the RTI Act. Trai, in its plea in the high court, argued the directive misconstrued the regulatory framework established under the Trai Act and wrongly expanded the scope of Trai\'s powers, rendering the order legally unsustainable. The court acknowledged the larger issue of unsolicited commercial communications raised by the consumer that impact a sizeable population. (Only the headline and picture of this report may have been reworked by the Business Standard staff; the rest of the content is auto-generated from a syndicated feed.) More From This SectionMumbai Police EOW takes over probe into multi-crore Torres investment scamLIVE: Aiming to produce 5 mn tonnes of Green Hydrogen by 2030, says PM ModiSC to hear online gaming firms\' urgent plea for interim relief on GSTFrame policy on cashless treatment for motor accident victims: SC to CentreIsro to carry out ambitious space docking experiment on Thursday morning'}, 
{'id': '6d4c293891ebba6dbf1859f9bf3e7b9aa53c73e0c37030aa6f3f6da3bcea3205', 'title': 'Elgar Parishad-Maoist case: HC grants bail to Rona Wilson, Sudhir Dhawale', 'content': 'Photo: Wikimedia Commons Press Trust of IndiaMumbai2 min readLast Updated :Jan 08 2025 | 7:08 PMISTListen to This Article The Bombay High Court on Wednesday granted bail to researcher Rona Wilson and activist Sudhir 
Dhawale, arrested in the Elgar Parishad-Maoist links case, noting that they were in jail since 2018 and the trial was yet to start. A division bench of Justices A S Gadkari and Kamal Khata said the two had spent more than six years in jail as under-trial prisoners. "They are in jail since 2018. Even the charges in the case are yet to be framed. The prosecution has cited over 300 witnesses, and thus there is no possibility of the trial to conclude in the near future," the court said. A trial starts after the charges are framed. The NIA, the prosecution agency, did not seek a stay to the HC order. Defence lawyers Mihir Desai and Sudeep Pasbola had argued that the two accused were incarcerated since their arrest in the case. While granting relief, the high court said it was not dealing with the merits of the case at this stage. Wilson and Dhawale were directed 
to submit a surety of Rs one lakh each, and appear before the special NIA court for the trial hearing. Also ReadKarnataka HC strikes down central rules on green energy open accessGujarat HC provides relief, says no GST on transfer of state land leasesSC slams ED for \'inhuman\' 15-hour interrogation in illegal mining caseSingapore oil tycoon Lim 
Oon Kuin declared bankrupt after empire crashSalman Rushdie\'s \'The Satanic Verses\' back on shelves: Why India banned it They shall surrender their passports and not leave 
the city until the trial is over, the HC said. Rona Wilson was arrested in June 2018 from his home in Delhi. He was described by the probe agencies as one of the top brass of urban Maoists. Dhawale was accused of being an active member of the banned Communist Party of India (Maoist). Apart from Dhawale and Wilson, 14 other activists were arrested in the case. Eight of them -- Varavara Rao, Sudha Bharadwaj, Anand Teltumbde, Vernon Gonsalves, Arun Ferreira, Shoma Sen, Gautam Navlakha and Mahesh Raut -- have been granted bail till now. Mahesh Raut remained in jail as the appeal filed by the NIA against his bail is pending before the Supreme Court. But on Tuesday the special NIA court granted him interim bail for 18 days to enable him appear for an LLB exam. Stan Swamy, one of the accused, died in 2021 while in prison. The case pertains to provocative speeches allegedly delivered at the Elgar Parishad conclave held in Pune on December 31, 2017, triggering violence at Koregaon-Bhima in Pune district the next day. The Pune police had 
claimed the conclave was backed by the Maoists. The NIA later took over the probe. (Only the headline and picture of this report may have been reworked by the Business Standard staff; the rest of the content is auto-generated from a syndicated feed.) More From This SectionMaha Kumbh 2025: Top 10 travel destinations to explore in PrayagrajLIVE news: LSR College, south Delhi school get bomb threats; nothing suspicious found\'DMK supporter, not member\': Stalin on Anna University sex assault accusedVedanta chairman Anil Agarwal acquires London\'s iconic Riverside studioHMPV cases in India highlights: Mumbai reports first case, 6-month-old child tests positive'}, {'id': 'ada8db1dc4102e398994114daae0881baaf14fee10099122fd5effced2485afc', 'title': 'Increase in enrolment rate in elementary education in Arunachal: CM Khandu', 'content': 'Arunachal Pradesh Chief Minister Pema Khandu (Photo: PTI) Press Trust of IndiaItanagar2 min readLast Updated :Jan 08 2025 | 2:25 PMISTListen to This Article Arunachal Pradesh Chief Minister Pema Khandu 
on Wednesday said there has been an increase in the enrolment rate in elementary education and a reduction in the dropout rate at the secondary level in the state. He said the state has achieved a notable reduction in the dropout rate at the secondary level to 11.7 per cent. Khandu wrote on X, "Our concerted efforts have yielded remarkable outcomes. The Adjusted Net Enrolment Rate in elementary education has reached an impressive 100 pc. Similarly, the average annual school dropout rate at the secondary level has reduced significantly." The chief minister credited Team Arunachal for driving impactful changes in the education sector. He highlighted that the initiatives are aligned with the vision of Prime Minister Narendra Modi and the goals outlined in the National Education Policy (NEP) 2020. "In sync with the grand vision of Hon\'ble Prime Minister Shri @narendramodi ji, as brilliantly captured in the new National Education Policy-2020, Team Arunachal is giving a big push to the state\'s educational landscape through a set of 
well-crafted interventions and enabling measures," Khandu said in another social media post. Innovative programmes like \'Building as Learning Aid\' and the establishment of 
new Eklavya Model Residential Schools have ensured that modern educational facilities are accessible to every child, reinforcing our commitment to inclusive and quality education for all, the chief minister added. According to the 2024 Sustainable Development Goals (SDG) Scoreboard, this milestone is part of Arunachal Pradesh\'s strides in achieving the global education goal under SDG 4. As per the 2024 SDG scorecard 100 pc adjusted net enrolment rate in elementary education. Average annual school drop out rate at secondary level down to 11.7 pc. (Only the headline and picture of this report may have been reworked by the Business Standard staff; the rest of the content is auto-generated 
from a syndicated feed.) More From This SectionIsro has major missions ahead, says newly appointed chairman NarayananGadkari announce a modified scheme for treatment of road 
accident victimsHMPV cases in India LIVE updates: Mumbai reports first case, 6-month-old child tests positiveV Narayanan: Lesser known facts about IIT alumnus to be next Isro chiefLIVE: AAP leaders protest amid \'Sheesh Mahal\' controversy, demand media tour CM\'s residence'}, {'id': '61465ff7a784b1ce166aaa0d45a9d3be8f32a8aa07fdc5745ddbf4d2906c1280', 'title': 'Sambhal court to hear Jama Masjid-Harihar temple case on March 5', 'content': 'A local court has fixed March 5 as the next date of hearing in a case connected 
to the Mughal-era Shahi Jama Masjid. (Photo: PTI) Press Trust of IndiaSambhal (UP)1 min readLast Updated :Jan 08 2025 | 1:14 PMISTListen to This Article A local court has fixed March 5 as the next date of hearing in a case connected to the Mughal-era Shahi Jama Masjid and its survey at Chandausi. "The Supreme Court has directed all the lower courts not to entertain new suits seeking surveys of any place of worship until further orders. We have filed a copy of the said order in the court, which fixed March 5 as the next date of hearing," Shakil Ahmad Wari, advocate representing the Muslim side, told reporters. When told about the Hindu side\'s claims that the mosque was built over an ancient Harihar temple, Wari said it is for the court to decide on the matter. "We will prove in the court that it was not a Harihar temple, but Jama Masjid. We have all the evidence," he said. Tensions escalated in Sambhal since November 19 last year, when a court-mandated survey of the Shahi Jama Masjid began following claims that a Harihar temple 
once stood on the site. The situation turned violent on November 24 during the second survey when protesters clashed with security forces. The ensuing stone-pelting and arson left four persons dead and many others injured. (Only the headline and picture of this report may have been reworked by the Business Standard staff; the rest of the content 
is auto-generated from a syndicated feed.) More From This SectionLIVE: AAP leaders protest amid \'Sheesh Mahal\' controversy, demand media tour CM\'s residenceGovt plans to make weather data sharing with IMD mandatory for airlinesV Narayanan: Lesser known facts about IIT alumnus to be next Isro chiefSupreme Court calls out states for freebies while judges face pay delaysHMPV cases in India LIVE updates: Mumbai reports first case, 6-month-old child tests positive'},
{'id': '70f716fb9ae6dccd86a8ba9f7a62a39a535a0ca9ad619eeca11461df34bcb308', 'title': '天气冷血压高｜营养师推介DASH得舒饮食', 'content': '小寒过后，冬季候风来袭，天文台预计周末将降至最低12度。天气急剧下降，血管收缩导致血压上升，
如果不及时预防和保暖，可能会引发严重的心血管疾病。 近年国际上备受推崇的得舒降血压饮食法(DASH diet)，是一个有效改善高血压饮食方案。究竟方法如何？ DASH得舒饮食法主要透过摄取丰 
富的镁、钙、钾、膳食纤维及不饱和脂肪酸，来降低、控制高血压及预防心血管疾病。 DASH得舒饮食法五大原则： 1. 主食选择全谷物 尽量以全谷类(如糙米、燕麦米、紫米等)取代白米、白面等精
致淀粉。 2. 蔬果5+5 每日应摄取约5份水果和5份蔬菜。 选择含较高水溶性纤维及果胶的蔬果，如菇类、木耳、苹果等。 水溶性纤维有助降低坏胆固醇、血压及增加血管弹性。 水果和蔬菜的分量 
： 1份水果约等於切块后能装满1个碗。 1份蔬菜约等於能装满八成的碗。 水果可选高纤高钾类，如香蕉，有助降血压。 蔬菜可选含纤维、钙质的西兰花、菜心、秋葵等。 3. 选择低脂乳品 每日摄
取1至2杯低脂乳品，如低脂乳酪、乳酪饮品或芝士。 乳品含钙，有助稳定血压。 4. 以白肉代替红肉 选择白肉(如鱼肉、鸡肉、鸭肉)取代红肉以吸收蛋白质。 避免高饱和脂肪及反式脂肪食物： 饱
和脂肪主要来自动物性脂肪(如牛腩、排骨)。 反式脂肪常见於松化、高温焗制的食物(如酥皮、油炸食品)。 过量的油脂会增加心血管疾病风险。 5. 选好油、食坚果 使用橄榄油、沙拉油、芥花油 
等植物油，取代猪油、奶油等动物油。 每日可摄取约10粒坚果(如腰果、开心果、核桃)，补充丰富不饱和脂肪酸。 三文鱼、沙甸鱼和黄花鱼含奥米加3脂肪酸，建议每周进食2次(每次约100克)。 鸡
蛋、黄豆及豆类制品同样含优质蛋白质，属健康低脂之选。 世界衞生组织(WHO)建议成人每日的钠摄取量应少於2,000毫克(相等於1茶匙盐)，2克的钠等於5克的盐。控盐可从减少使用调味料，及避免
食用加工及腌制食物入手。 除了盐、豉油及蚝油外，其实调味料如鸡粉、鲜露、海鲜酱、茄汁等亦含不少盐分。日常烹调时，建议多使用姜、蒜蓉、洋葱、胡椒、各式香草等天然低钠调味料为食材 
增添味道。天然调味料含有不同的植物抗氧化物，有利血管健康。外出进食时，应避免“捞汁”吃饭，酱料亦尽量另上，以减少钠质摄取。 两类人需要特别留意： 肾功能衰退人士：得舒饮食含有高钾
、高磷和高钙，若本身肾功能不佳或肾功能衰退人士，建议可询问医生或营养师。 糖尿病患者：得舒饮食主张多水果、多蔬菜。然而，水果含有不少果糖，有些蔬菜亦含高淀粉质。建议由营养师跟 
进饮食，以评估自己是否适合采用这个饮食方案。'}, 
{'id': '4ccafd5d7a17ab410839e7d0c341810715f33e1f4fc63345ceaf443de56f3e5a', 'title': '45岁男子坠河溺毙 亚罗士打开年以来第3宗', 
'content': '消拯搜救人员于8日在河中寻获45岁的巫裔男子遗体。 又一宗坠河溺毙案，这已是今年开年以来,亚罗士打第3宗坠河溺毙事件。 该坠河溺毙事件是于周三（8日）在亚罗士打甘榜哥里基
斯拿督坤峇路一带的河流发生，死者是约45岁的巫裔男子。 吉打州消拯局高级主任阿末阿米努丁指出，消拯局于周三下午3时04分接获有一名男子坠河后下落不明，派员到场展开搜寻行动。消拯人员
把死者遗体抬上车以便送往亚罗士打太平间。 他说，搜救人员于当天下午6时42分潜入人中寻人，直到下午6时58分寻获死者，遗体交给警方处理，搜寻行动于晚上7时25分结束行动。 今年开年隔天 
即1月2日，在太子路过港海墘街蓝卓公附近的河边，发生一起28岁华青黄伟宏疑癫痫症发作，脱掉上衣与裤子只身穿一条内裤往草丛的河边跑去而失去踪影，直到隔天（1月3日） 上午9时51分，在距
离400米处的丹绒查里河畔处寻获其遗体搁浅在河岸旁。第2宗坠河溺毙案是发生在1月5日，一名45岁印裔男子于当天中午约12时，在米都拉惹路桥的丹绒查理河畔坠河，死者遗体于当天下午4时10分 
寻获。 找工作， 就找这里! 我要招聘 › › 立即申请 Social Media Marketing Executive Advertising & Marketing Kuala Lumpur MYR 6K /Month › 立即申请 PHP Software Developer Information Technology Wilayah Persekutuan MYR 6K /Month › 立即申请 DevOps Software Engineer Information Technology Kuala Lumpur MYR 6.5K /Month › 立即申请 Java Software Engineer Information Technology Kuala Lumpur MYR 10K /Month › 立即申请 GMBB Part Timer Event Kuala Lumpur MYR 110.00 /Day › 立即申请 软件测试与客户支持专员 Software Testing & Customer Support Specialist Information Technology Kuala Lumpur MYR 3K /Month › 立即申请 Software Developer Information Technology Kuala Lumpur MYR 4K /Month 按这里看更多的工作 ›'}, 
{'id': 'c17fc0f547ca3db15113888f95a55dff03a9f1bc217084d7463f4cef98299d16', 'title': '去年关税局获655.7亿收入 超过560亿预设目标', 'content': '关税局在2024年取得655亿7000万令吉收 
入，成功超过财政部设下的560亿令吉的目标。 她也有信心，今年可以达到财政部为关税局设下今年的672亿5000万令吉的收入目标。她说，关税局在2023年的收入为551亿7000万令吉，去年收入增至
655亿7000万令吉，为国家带来104 亿令吉的额外收入，增幅为18.85%。 她说，这是疫情后最高的税收收入，反映了关税局通过加强执法、税务合规和数码化的努力。总监拿督阿妮丝丽扎娜今天（9 
日）在布城关税局总部召开记者会公布关税局在去年的表现时，如是表示。 找工作， 就找这里! 我要招聘 › › 立即申请 Social Media Marketing Executive Advertising & Marketing Kuala Lumpur MYR 6K /Month › 立即申请 PHP Software Developer Information Technology Wilayah Persekutuan MYR 6K /Month › 立即申请 DevOps Software Engineer Information Technology Kuala 
Lumpur MYR 6.5K /Month › 立即申请 Java Software Engineer Information Technology Kuala Lumpur MYR 10K /Month › 立即申请 GMBB Part Timer Event Kuala Lumpur MYR 110.00 /Day › 立
即申请 软件测试与客户支持专员 Software Testing & Customer Support Specialist Information Technology Kuala Lumpur MYR 3K /Month › 立即申请 Software Developer Information Technology Kuala Lumpur MYR 4K /Month 按这里看更多的工作 ›'}]
```

现在看上去已经好很多了，新闻抽取还会抽一些无聊的广告，这目前还没发去除，后面再说。

看看实体抽取结果：

![graph (33)](./assets/graph (33).svg)

嗯，出现了很多others实体，六个样本的实体抽取大模型都拒绝了。但是大模型在关系抽取的时候，又可以抽取了？

实体抽取报错如下：

```shell
openai.BadRequestError: Error code: 400 - {'error': {'code': 'data_inspection_failed', 'param': None, 'message': 'Input data may contain inappropriate content.', 'type': 'data_inspection_failed'}, 'id': 'chatcmpl-3b409b8e-c126-98a6-ae0e-4f48e80a903f', 'request_id': '3b409b8e-c126-98a6-ae0e-4f48e80a903f'}
```

### 总结：

1、实验证明数据格式越清晰简单，抽取的效果越好

2、实际的新闻样本非常复杂，有太多的特殊字符，去除这些特殊字符后，会增加大模型的拒答率……

3、可能使用离线部署的大模型效果会好一些，可以绕过API的审核。

4、为KAG新增了xlsx文档读取功能。